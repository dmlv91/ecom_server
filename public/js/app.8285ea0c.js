(function(){"use strict";var t={928:function(t,e,o){var r=o(963),d=o(252);function n(t,e,o,r,n,c){const i=(0,d.up)("HomeComponent");return(0,d.wg)(),(0,d.j4)(i)}var c=o(577);const i={class:"container"},a={class:"container my-5"},s={class:"mb-4"},u={key:0},l=(0,d._)("h5",null,"Could not retrieve all products. Please try later!",-1),p=[l],m={key:1,class:"row"},h={key:2};function f(t,e,o,r,n,l){const f=(0,d.up)("HeaderComponent"),P=(0,d.up)("ProductComponent"),v=(0,d.up)("AddProductComponent"),w=(0,d.up)("FooterComponent");return(0,d.wg)(),(0,d.iD)("div",i,[(0,d.Wm)(f,{isAddNewProductVisible:n.isAddNewProductVisible,onAddProduct:l.toggleAddProductView},null,8,["isAddNewProductVisible","onAddProduct"]),(0,d._)("section",null,[(0,d._)("div",a,[(0,d._)("header",s,[(0,d._)("h3",null,(0,c.zw)(n.isAddNewProductVisible?"New Product":"Products"),1)]),n.hasError?((0,d.wg)(),(0,d.iD)("div",u,p)):(0,d.kq)("",!0),n.isAddNewProductVisible?((0,d.wg)(),(0,d.iD)("div",h,[(0,d.Wm)(v,{initialData:n.editProductData,isEditMode:n.isEditMode,onAddProduct:l.handleAddProduct},null,8,["initialData","isEditMode","onAddProduct"])])):((0,d.wg)(),(0,d.iD)("div",m,[(0,d.Wm)(P,{onAddProduct:l.handleAddProduct},null,8,["onAddProduct"])]))])]),(0,d.Wm)(w)])}const P=t=>((0,d.dD)("data-v-0f4d848e"),t=t(),(0,d.Cn)(),t),v={class:"container"},w=P((()=>(0,d._)("hr",null,null,-1))),y={key:0,class:"error"},b={class:"products-container"},g=["item","index"],_={class:"Name"},A={class:"Description"},D={class:"Numerals"},C={class:"Numerals"},E={class:"id"},V=["onClick"],k=["onClick"];function N(t,e,o,r,n,i){return(0,d.wg)(),(0,d.iD)("div",v,[w,n.error?((0,d.wg)(),(0,d.iD)("p",y,(0,c.zw)(n.error),1)):(0,d.kq)("",!0),(0,d._)("div",b,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(n.products,((t,e)=>((0,d.wg)(),(0,d.iD)("div",{class:"product",item:t,index:e,key:t._id},[(0,d._)("h2",_,"Name: "+(0,c.zw)(t.name),1),(0,d._)("p",A,"Description: "+(0,c.zw)(t.description),1),(0,d._)("p",D,"Price: EUR "+(0,c.zw)(t.price),1),(0,d._)("p",C,"Qty: "+(0,c.zw)(t.qty),1),(0,d._)("p",E,"Product ID: "+(0,c.zw)(t.id),1),(0,d._)("button",{onClick:e=>i.editProduct(t)},"Edit",8,V),(0,d._)("button",{onClick:e=>i.deleteProduct(t.id)},"Delete",8,k)],8,g)))),128))])])}var O=o(121);const x="api/products/";class M{static getProducts(){return O.Z.get(x).then((t=>{const e=t.data,o=Object.values(e);return o.map((t=>({id:t._id,name:t.name,description:t.description,price:t.price,qty:t.qty,createdAt:new Date(t.createdAt)})))})).catch((t=>{throw t}))}static createProduct(t){return O.Z.post(x,t)}static editProduct(t,e){return O.Z.post(`${x}${t}`,e)}static deleteProduct(t){return O.Z.delete(`${x}${t}`)}}var j=M,q={name:"ProductComponent",data(){return{products:[],error:"",text:""}},methods:{async fetchProducts(){try{this.products=await j.getProducts()}catch(t){this.error="Failed to load products"}},editProduct(t){this.$emit("add-product",t)},async deleteProduct(t){try{await j.deleteProduct(t),this.fetchProducts()}catch(e){console.error("Error deleting product:",e)}}},created(){this.fetchProducts()}},z=o(744);const Z=(0,z.Z)(q,[["render",N],["__scopeId","data-v-0f4d848e"]]);var H=Z;const U=t=>((0,d.dD)("data-v-75a42c9a"),t=t(),(0,d.Cn)(),t),$={class:"header-container"},F=U((()=>(0,d._)("span",{class:"header-title"},"Warehouse Client Portal",-1))),I={class:"header-buttons"};function S(t,e,o,r,n,i){return(0,d.wg)(),(0,d.iD)("header",$,[F,(0,d._)("div",I,[(0,d._)("button",{type:"button",class:"custom-btn btn-success",onClick:e[0]||(e[0]=(...t)=>i.toggleAddProductView&&i.toggleAddProductView(...t))},(0,c.zw)(o.isAddNewProductVisible?"View products":"Add product"),1)])])}var W={name:"HeaderComponent",props:{isAddNewProductVisible:{type:Boolean,required:!0}},data(){return{}},methods:{toggleAddProductView(){this.$emit("add-product")}}};const T=(0,z.Z)(W,[["render",S],["__scopeId","data-v-75a42c9a"]]);var B=T;const Q=t=>((0,d.dD)("data-v-39c5d753"),t=t(),(0,d.Cn)(),t),K={class:"footer-container"},R=Q((()=>(0,d._)("div",{class:"footer-content"},[(0,d._)("span",{class:"footer-title"},"Dāvis Mediņš, Vidzemes Augstskola, E-Biznesa sistēmas")],-1))),Y=[R];function G(t,e,o,r,n,c){return(0,d.wg)(),(0,d.iD)("footer",K,Y)}var J={name:"FooterComponent",data(){return{}},methods:{}};const L=(0,z.Z)(J,[["render",G],["__scopeId","data-v-39c5d753"]]);var X=L;const tt=t=>((0,d.dD)("data-v-a191b3e8"),t=t(),(0,d.Cn)(),t),et={class:"col-lg-3 col-md-6 col-sm-6 d-flex"},ot={class:"card w-100 my-2 shadow-2-strong"},rt={class:"card-body d-flex flex-column"},dt={class:"form-group"},nt={key:0,style:{color:"red"}},ct=tt((()=>(0,d._)("label",{for:"productName"},"Product Name",-1))),it={class:"form-group"},at=tt((()=>(0,d._)("label",{for:"productDescription"},"Product Description",-1))),st={class:"form-group"},ut=tt((()=>(0,d._)("label",{for:"productAmount"},"Product Qty",-1))),lt={class:"form-group"},pt=tt((()=>(0,d._)("label",{for:"productPrice"},"Product Price",-1))),mt={class:"card-footer align-items-end"},ht={class:"col-12 pt-2"};function ft(t,e,o,n,i,a){return(0,d.wg)(),(0,d.iD)("div",et,[(0,d._)("div",ot,[(0,d._)("div",rt,[(0,d._)("div",dt,[i.hasError?((0,d.wg)(),(0,d.iD)("h6",nt," Could not save product info ")):(0,d.kq)("",!0),ct,(0,d.wy)((0,d._)("input",{type:"text",class:"form-control",id:"productName",placeholder:"Enter name","onUpdate:modelValue":e[0]||(e[0]=t=>i.product.name=t)},null,512),[[r.nr,i.product.name]])]),(0,d._)("div",it,[at,(0,d.wy)((0,d._)("input",{type:"text",class:"form-control",id:"productDescription",placeholder:"Enter description","onUpdate:modelValue":e[1]||(e[1]=t=>i.product.description=t)},null,512),[[r.nr,i.product.description]])]),(0,d._)("div",st,[ut,(0,d.wy)((0,d._)("input",{type:"text",class:"form-control",id:"productQty",placeholder:"Enter qty","onUpdate:modelValue":e[2]||(e[2]=t=>i.product.qty=t)},null,512),[[r.nr,i.product.qty]])]),(0,d._)("div",lt,[pt,(0,d.wy)((0,d._)("input",{type:"text",class:"form-control",id:"productPrice",placeholder:"Enter price","onUpdate:modelValue":e[3]||(e[3]=t=>i.product.price=t)},null,512),[[r.nr,i.product.price]])]),(0,d._)("div",mt,[(0,d._)("div",ht,[(0,d._)("button",{type:"button",class:"btn btn-success",onClick:e[4]||(e[4]=t=>o.isEditMode?a.updateProduct():a.addProduct())},(0,c.zw)(o.isEditMode?"Update Product":"Add Product"),1)])])])])])}var Pt={name:"AddProduct",props:{initialData:Object,isEditMode:Boolean},data(){return{product:{name:"",description:"",qty:null,price:null},hasError:!1}},methods:{async addProduct(){const t=await j.createProduct(this.product);"Product added successfully!"==t.data["message"]?(this.hasError=!1,location.reload()):this.hasError=!0},async updateProduct(){const t=await j.editProduct(this.product.id,this.product);"Product parameters edited successfully"==t.data["message"]?(this.hasError=!1,location.reload()):this.hasError=!0}},watch:{initialData:{handler(t){this.product={...this.product,...t}},immediate:!0}}};const vt=(0,z.Z)(Pt,[["render",ft],["__scopeId","data-v-a191b3e8"]]);var wt=vt,yt={name:"HomeComponent",components:{ProductComponent:H,FooterComponent:X,HeaderComponent:B,AddProductComponent:wt},data(){return{isAddNewProductVisible:!1,isEditMode:!1,editProductData:{},hasError:!1}},methods:{toggleAddProductView(){this.isAddNewProductVisible=!this.isAddNewProductVisible,this.isEditMode=!1},handleAddProduct(t){this.editProductData=t,this.isEditMode=!0,this.isAddNewProductVisible=!0}}};const bt=(0,z.Z)(yt,[["render",f]]);var gt=bt,_t={name:"App",components:{HomeComponent:gt}};const At=(0,z.Z)(_t,[["render",n]]);var Dt=At;(0,r.ri)(Dt).mount("#app")}},e={};function o(r){var d=e[r];if(void 0!==d)return d.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,r,d,n){if(!r){var c=1/0;for(u=0;u<t.length;u++){r=t[u][0],d=t[u][1],n=t[u][2];for(var i=!0,a=0;a<r.length;a++)(!1&n||c>=n)&&Object.keys(o.O).every((function(t){return o.O[t](r[a])}))?r.splice(a--,1):(i=!1,n<c&&(c=n));if(i){t.splice(u--,1);var s=d();void 0!==s&&(e=s)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,d,n]}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var d,n,c=r[0],i=r[1],a=r[2],s=0;if(c.some((function(e){return 0!==t[e]}))){for(d in i)o.o(i,d)&&(o.m[d]=i[d]);if(a)var u=a(o)}for(e&&e(r);s<c.length;s++)n=c[s],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(u)},r=self["webpackChunkclient"]=self["webpackChunkclient"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(928)}));r=o.O(r)})();
//# sourceMappingURL=app.8285ea0c.js.map